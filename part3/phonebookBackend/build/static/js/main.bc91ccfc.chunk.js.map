{"version":3,"sources":["services/persons.js","App.js","index.js"],"names":["baseUrl","axios","get","then","response","data","newObject","post","id","delete","PersonForm","newName","newNumber","addPerson","handlePersonChange","handleNumberChange","onSubmit","value","onChange","type","Person","person","deletePerson","name","number","onClick","Persons","persons","deletePersonOf","map","Notification","message","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","App","useState","setPersons","setNewName","setNewNumber","notificationMessage","setNotificationMessage","useEffect","console","log","personService","initialPersons","event","preventDefault","find","window","alert","returnedPerson","concat","setTimeout","target","confirm","_","filter","p","ReactDOM","render","document","getElementById"],"mappings":"iKACMA,EAAU,eAoBD,EAlBA,WACX,OAAOC,IACFC,IAAIF,GACJG,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAepB,EAZA,SAAAC,GACX,OAAOL,IACFM,KAAKP,EAASM,GACdH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SASpB,EANE,SAAAG,GACb,OAAOP,IACFQ,OAAOT,EAAU,IAAMQ,GACvBL,MAAK,SAAAC,GAAQ,OAAIA,EAASC,S,OCf7BK,EAAa,SAAC,GAA6E,IAA5EC,EAA2E,EAA3EA,QAASC,EAAkE,EAAlEA,UAAWC,EAAuD,EAAvDA,UAAWC,EAA4C,EAA5CA,mBAAoBC,EAAwB,EAAxBA,mBACtE,OACE,uBAAMC,SAAUH,EAAhB,UACE,yCACQ,uBACEI,MAAON,EACPO,SAAUJ,OAGpB,2CACU,uBACEG,MAAOL,EACPM,SAAUH,OAGtB,8BACE,wBAAQI,KAAK,SAAb,uBAMFC,EAAS,SAAC,GAA4B,IAA3BC,EAA0B,EAA1BA,OAAQC,EAAkB,EAAlBA,aACvB,OACE,gCACGD,EAAOE,KADV,IACiBF,EAAOG,OADxB,IACgC,wBAAQC,QAASH,EAAjB,wBAK9BI,EAAU,SAAC,GAA+B,IAA9BC,EAA6B,EAA7BA,QAASC,EAAoB,EAApBA,eACzB,OACE,8BACGD,EAAQE,KAAI,SAAAR,GAAM,OACjB,cAAC,EAAD,CAEEA,OAAQA,EACRC,aAAc,kBAAMM,EAAeP,KAF9BA,EAAOE,YAShBO,EAAe,SAAC,GAAe,IAAdC,EAAa,EAAbA,QACrB,GAAgB,OAAZA,EACF,OAAO,KAaT,OACE,qBAAKC,MAXmB,CACxBC,MAAO,QACPC,WAAY,YACZC,SAAU,GACVC,YAAa,QACbC,aAAc,EACdC,QAAS,GACTC,aAAc,IAId,SACGR,KAsFQS,EAjFH,WAAO,IAAD,EACgBC,mBAAS,IADzB,mBACRd,EADQ,KACCe,EADD,OAEgBD,mBAAS,IAFzB,mBAER9B,EAFQ,KAECgC,EAFD,OAGoBF,mBAAS,IAH7B,mBAGR7B,EAHQ,KAGGgC,EAHH,OAIwCH,mBAAS,MAJjD,mBAIRI,EAJQ,KAIaC,EAJb,KAMhBC,qBAAU,WACRC,QAAQC,IAAI,UACZC,IAEG/C,MAAK,SAAAgD,GACJH,QAAQC,IAAI,qBACZP,EAAWS,QAEd,IAiDH,OACE,gCACE,2CACA,cAAC,EAAD,CAAcpB,QAASc,IACvB,2CACA,cAAC,EAAD,CACElC,QAASA,EACTC,UAAWA,EACXC,UAvDY,SAACuC,IACjBA,EAAMC,iBAEF1B,EAAQ2B,MAAK,SAAAjC,GAAM,OAAIA,EAAOE,OAASZ,MACzC4C,OAAOC,MAAP,UAAgB7C,EAAhB,mCASFuC,EALqB,CACnB3B,KAAMZ,EACNa,OAAQZ,IAKPT,MAAK,SAAAsD,GACJf,EAAWf,EAAQ+B,OAAOD,IAC1Bd,EAAW,IACXC,EAAa,IACbE,EAAuB,SAAD,OAAUW,EAAelC,OAC/CoC,YAAW,WACTb,EAAuB,QACtB,SAkCHhC,mBAlBqB,SAACsC,GAC1BT,EAAWS,EAAMQ,OAAO3C,QAkBpBF,mBAfqB,SAACqC,GAC1BR,EAAaQ,EAAMQ,OAAO3C,UAgBxB,yCACA,cAAC,EAAD,CAASU,QAASA,EAASC,eAlCR,SAACP,GACjBkC,OAAOM,QAAP,iBAAyBxC,EAAOE,KAAhC,QAIL2B,EACY7B,EAAOb,IAChBL,MAAK,SAAA2D,GACJpB,EAAWf,EAAQoC,QAAO,SAAAC,GAAC,OAAIA,EAAExD,KAAOa,EAAOb,iBCpHvDyD,IAASC,OACP,cAAC,EAAD,IACAC,SAASC,eAAe,W","file":"static/js/main.bc91ccfc.chunk.js","sourcesContent":["import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    return axios\n        .get(baseUrl)\n        .then(response => response.data)\n}\n\nconst create = newObject => {\n    return axios\n        .post(baseUrl, newObject)\n        .then(response => response.data)\n}\n\nconst deleteOf = id => {\n    return axios\n        .delete(baseUrl + '/' + id)\n        .then(response => response.data)\n}\n\nexport default {\n    getAll, create, deleteOf\n}\n","import React, { useState, useEffect } from 'react'\nimport personService from './services/persons'\n\nconst PersonForm = ({newName, newNumber, addPerson, handlePersonChange, handleNumberChange}) => {\n  return (\n    <form onSubmit={addPerson}>\n      <div>\n        name: <input\n                value={newName}\n                onChange={handlePersonChange}\n              />\n      </div>\n      <div>\n        number: <input\n                  value={newNumber}\n                  onChange={handleNumberChange}\n                />\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  )\n}\n\nconst Person = ({person, deletePerson}) => {\n  return (\n    <div>\n      {person.name} {person.number} <button onClick={deletePerson}>delete</button>\n    </div>\n  )\n}\n\nconst Persons = ({persons, deletePersonOf}) => {\n  return (\n    <div>\n      {persons.map(person =>\n        <Person\n          key={person.name}\n          person={person}\n          deletePerson={() => deletePersonOf(person)}\n        />\n      )}\n    </div>\n  )\n}\n\nconst Notification = ({message}) => {\n  if (message === null) {\n    return null\n  }\n\n  const notificationStyle = {\n    color: 'green',\n    background: 'lightgrey',\n    fontSize: 20,\n    borderStyle: 'solid',\n    borderRadius: 5,\n    padding: 10,\n    marginBottom: 10\n  }\n\n  return (\n    <div style={notificationStyle}>\n      {message}\n    </div>\n  )\n}\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ notificationMessage, setNotificationMessage ] = useState(null)\n\n  useEffect(() => {\n    console.log('effect')\n    personService\n      .getAll()\n      .then(initialPersons => {\n        console.log('promise fulfilled')\n        setPersons(initialPersons)\n      })\n  }, [])\n\n  const addPerson = (event) => {\n    event.preventDefault()\n\n    if (persons.find(person => person.name === newName)) {\n      window.alert(`${newName} is already added to phonebook`)\n      return\n    }\n\n    const PersonObject = {\n      name: newName,\n      number: newNumber\n    }\n\n    personService\n      .create(PersonObject)\n      .then(returnedPerson => {\n        setPersons(persons.concat(returnedPerson))\n        setNewName('')\n        setNewNumber('')\n        setNotificationMessage(`Added ${returnedPerson.name}`)\n        setTimeout(() => {\n          setNotificationMessage(null)\n        }, 5000)\n      })\n  }\n\n  const deletePersonOf = (person) => {\n    if (!window.confirm(`Delete ${person.name} ?`)) {\n      return\n    }\n\n    personService\n      .deleteOf(person.id)\n      .then(_ => {\n        setPersons(persons.filter(p => p.id !== person.id))\n      })\n  }\n\n  const handlePersonChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={notificationMessage} />\n      <h3>Add a new</h3>\n      <PersonForm\n        newName={newName}\n        newNumber={newNumber}\n        addPerson={addPerson}\n        handlePersonChange={handlePersonChange}\n        handleNumberChange={handleNumberChange}\n      />\n      <h3>Numbers</h3>\n      <Persons persons={persons} deletePersonOf={deletePersonOf} />\n    </div>\n  )\n}\n\nexport default App","import ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(\n  <App />, \n  document.getElementById('root')\n)"],"sourceRoot":""}